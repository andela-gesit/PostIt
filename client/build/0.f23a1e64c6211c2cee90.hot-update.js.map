{"version":3,"sources":["webpack:///./client/components/views/partials/Messages.jsx?2125"],"names":["Messages","bodyRef","scrollIntoView","behavior","groupId","localStorage","getItem","groupLoaded","props","store","groups","userGroups","token","decode","userId","id","messages","length","map","messageDetails","index","Component","Message","priority","isComment","className","senderId","sentBy","body","createdAt"],"mappings":"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","file":"0.f23a1e64c6211c2cee90.hot-update.js","sourcesContent":["/* eslint-env browser */\nimport React from 'react';\nimport jwtDecode from 'jwt-decode';\n/**\n * A React ccomponent that displays all the messages for a group\n */\nexport default class Messages extends React.Component {\n  /**\n   * component method called when component properties change\n   * @return {undefined} this method returns nothing\n   */\n  componentDidUpdate() {\n    // Scroll page body to last message\n    this.bodyRef.scrollIntoView({\n      behavior: 'smooth'\n    });\n  }\n  /**\n   * Render method of React component\n   * @returns {Object} Returns the DOM object to be rendered\n   */\n  render() {\n    const groupId = localStorage.getItem('groupId'); // My Hack\n    const groupLoaded = this.props.store.groups.userGroups[groupId];\n    const token = localStorage.getItem('token');\n    const decode = jwtDecode(token);\n    const userId = decode.id;\n    let messages;\n    // Check that group data is loaded\n    if (groupLoaded && userId) {\n      messages = this.props.store.groups.userGroups[groupId].messages;\n    }\n    return (\n      <div>\n        <ul id=\"messages\" className=\"messages row\">\n        {\n          messages ? (\n            messages.length === 0 ? (\n              <div>\n                <h3 className=\"grey-text center\">No Messages</h3>\n              </div>\n            ) : (\n              <div>\n                {\n                  messages.map((messageDetails, index) =>\n                    <Message userId={userId} key={index} messageDetails={messageDetails}/>)\n                }\n              </div>\n            )\n          ) : (\n          <div className=\"preloader-wrapper loader big active\">\n            <div className=\"spinner-layer spinner-green-only\">\n              <div className=\"circle-clipper left\">\n                <div className=\"circle\"></div>\n              </div><div className=\"gap-patch\">\n                <div className=\"circle\"></div>\n              </div><div className=\"circle-clipper right\">\n                <div className=\"circle\"></div>\n              </div>\n            </div>\n          </div>\n          )\n        }\n        </ul>\n        <div ref={(bodyRef) => { this.bodyRef = bodyRef; }}></div>\n      </div>\n    );\n  }\n}\n\n/**\n * React component to display each message\n */\nclass Message extends React.Component {\n  /**\n   * Render method of React component\n   * @returns {Object} Returns the DOM object to be rendered\n   */\n  render() {\n    const messageDetails = this.props.messageDetails;\n    const userId = this.props.userId;\n    const priority = messageDetails.priority;\n    const isComment = messageDetails.isComment;\n    let className;\n    if (userId === messageDetails.senderId) {\n      className = 'ownmessage message card col s11 offset-s1';\n    } else {\n      className = 'message card col s11';\n    }\n    switch (priority) {\n      case 'normal':\n        // Comments also have normal priority, but don't send notificatins\n        return (\n          isComment ? (\n            <li className={className}>\n              <small className=\"sender-name\">{messageDetails.sentBy}\n                <a className=\"secondary-content grey-text\">\n                  <i className=\"material-icons\">lens</i></a></small>\n              <div className=\"message-body white-text\">{messageDetails.body}</div>\n              <div className=\"message-info\"><small>{messageDetails.createdAt}</small></div>\n            </li>\n          ) : (\n            <li className={className}>\n              <small className=\"sender-name\">{messageDetails.sentBy}\n                <a className=\"secondary-content green-text\">\n                <i className=\"material-icons\">lens</i></a></small>\n              <div className=\"message-body white-text\">{messageDetails.body}</div>\n              <div className=\"message-info\"><small>{messageDetails.createdAt}</small></div>\n            </li>\n          )\n        );\n      case 'urgent': return (\n        <li className={className}>\n          <small className=\"sender-name\">{messageDetails.sentBy}\n            <a className=\"secondary-content orange-text\">\n            <i className=\"material-icons\">lens</i></a></small>\n          <div className=\"message-body white-text\">{messageDetails.body}</div>\n          <div className=\"message-info\"><small>{messageDetails.createdAt}</small></div>\n        </li>\n      );\n      case 'critical': return (\n        <li className={className}>\n          <small className=\"sender-name\">{messageDetails.sentBy}\n            <a className=\"secondary-content red-text\">\n            <i className=\"material-icons\">lens</i></a></small>\n          <div className=\"message-body white-text\">{messageDetails.body}</div>\n          <div className=\"message-info\"><small>{messageDetails.createdAt}</small></div>\n        </li>\n      );\n      default: return (\n        <li className={className}>\n          <small className=\"sender-name\">{messageDetails.sentBy}\n            <a className=\"secondary-content grey-text\">\n            <i className=\"material-icons\">lens</i></a></small>\n          <div className=\"message-body white-text\">{messageDetails.body}</div>\n          <div className=\"message-info\"><small>{messageDetails.createdAt}</small></div>\n        </li>\n      );\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./client/components/views/partials/Messages.jsx"],"sourceRoot":""}